# URL Shortener Microservice

This is a Node.js-based RESTful microservice for creating, redirecting, and analyzing shortened URLs, built for Affordmed's Campus Hiring Evaluation. It uses Express.js, MongoDB, and Winston for logging.


## Image: 
<img width="1376" height="702" alt="Image" src="https://github.com/user-attachments/assets/ba0bb3c3-714a-4bd5-aaf6-a89edb3f6264" />

## Folder Structure
```
url-shortener/
├── logs/                     # Log files generated by Winston
│   ├── combined.log          # All request logs
│   └── error.log             # Error logs
├── src/                      # Source code
│   ├── middleware/           # Custom middleware
│   │   └── logger.js         # Winston-based logging middleware
│   ├── models/               # MongoDB models
│   │   └── url.js            # URL schema for Mongoose
│   ├── routes/               # API routes
│   │   └── shorturls.js      # Short URL routes (create, redirect, stats)
│   ├── utils/                # Utility functions
│   │   └── shortcode.js      # Shortcode generation logic
│   └── app.js                # Main application file
├── .env                      # Environment variables (PORT, MONGODB_URI)
├── design-document.md        # Architectural design and decisions
├── package.json              # Node.js dependencies and scripts
└── README.md                 # This file
```

## Prerequisites

- **Node.js**: v14 or higher
- **MongoDB**: Local (v3.6+) or MongoDB Atlas
- **Postman or cURL**: For testing API endpoints
- **VSCode**: Recommended IDE

## Setup

1. **Clone the Repository**:
   ```bash
   git clone https://github.com/varunsainadh-116/12206253.git
   cd 12206253
2. **Install Dependencies**:
   ```bash
    npm install
3. **Configure Environment**:
   - Create a ```.env``` file in the root directory:
   
   ```bash
   PORT=3000
   MONGODB_URI=mongodb://localhost:27017/url_shortener
4. **Start MongoDB**:
- **Local**: Run mongod (ensure MongoDB is installed).
- **Atlas**: Ensure the MONGODB_URI is correct and the IP is whitelisted.

# Running the Application
## Start the server:
```bash
npm start
```
## Expected output:
```
Server running on port 3000
Connected to MongoDB
The API is available at http://localhost:3000.
```

# Notes
- Ensure MongoDB is running before starting the application.
- The service handles URL creation, redirection, and statistics with robust error handling.
- Shortcodes are unique (auto-generated or custom, 5-10 alphanumeric characters).
- URLs default to 30-minute validity if not specified.
